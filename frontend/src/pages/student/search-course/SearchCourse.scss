@use '@/styles/mixin/reponsive' as *;
@use '@/styles/mixin/scrollbar' as *;

.note-cancel {
   margin-left: 40px;
   margin-bottom: 30px;
   font-size: 0.85rem;
   color: #dc3545; // Màu đỏ
   font-style: italic;
   display: block;
   margin-top: 0.5rem;
}
.search-course-container {
   display: flex;
   .filter {
      flex: 1;
      height: calc(100vh - 60px);
      background: #f7f6fa;
      margin-right: 30px;
      display: flex;
      flex-direction: column;

      button {
         width: 80%;
         cursor: pointer;
         transition: 0.2s;
         &:hover {
            background: #0044bb;
         }
      }
      h2 {
         margin: 30px 10%;
      }

      .filter-container {
         background: #fff;
         width: 80%;
         border-radius: 10px;
         border: 1px solid #dcdcdc;
         margin: 10px auto;

         h3 {
            margin: 20px;
         }
         select {
            margin: 0 20px 10px 20px;
            padding: 10px;
            width: 80%;
            border-radius: 5px;
            border: 1px solid #dcdcdc;
            cursor: pointer;

            &:focus {
               border-color: #007bff;
               box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
            }
         }
      }
   }

   .list-container {
      flex: 3;
      margin: 20px;
      border: 1px solid #dcdcdc;
      border-radius: 10px;

      height: calc(100vh - 100px);
      overflow-y: scroll;
      overflow-x: hidden;

      @include custom-scrollbar();
      .search-course-input {
         margin: 20px auto;
         display: block;
         width: 40%;
         height: 40px;
         border: 1px solid #dcdcdc;
         border-radius: 20px;
         padding: 0 20px;
         &:focus {
            outline: none;
            border-color: #007bff;
         }
      }
      h2 {
         margin-left: 40px;
         margin-bottom: 30px;
      }
      table {
         margin: 0 40px;
         width: 95%;
         table-layout: fixed; // ✅ Thêm dòng này để fixed width hoạt động

         tbody tr {
            transition: 0.2s;
            &:hover {
               background: #f3f3f3;
            }
         }
         th {
            text-align: left;
            padding-bottom: 10px;
         }
         td {
            padding: 20px 10px 20px 0;
            white-space: nowrap; // ✅ Text không xuống hàng
            overflow: hidden; // ✅ Ẩn phần tràn
            text-overflow: ellipsis; // ✅ Hiển thị "..."
            border-top: 1px solid #dcdcdc;
         }
         th:nth-child(1),
         td:nth-child(1) {
            width: 27%;
         }
         th:nth-child(2),
         td:nth-child(2) {
            width: 20%;
         }
         th:nth-child(3),
         td:nth-child(3) {
            width: 15%;
         }
         th:nth-child(4),
         td:nth-child(4) {
            width: 13%;
            text-align: center;
         }
         th:nth-child(5),
         td:nth-child(5) {
            width: 13%;
            text-align: center;
         }

         // ✅ Thêm tooltip khi hover vào ô bị cắt
         td:nth-child(1) {
            cursor: help;
            position: relative;

            &:hover::after {
               content: attr(title);
               position: absolute;
               left: 0;
               top: 100%;
               background: rgba(0, 0, 0, 0.9);
               color: white;
               padding: 8px 12px;
               border-radius: 5px;
               white-space: normal;
               max-width: 300px;
               z-index: 100;
               font-size: 13px;
               line-height: 1.4;
               box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            }
         }

         .status-badge {
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            display: inline-block;
            font-size: 14px;
            font-weight: 500;

            border: none;
            &.unregister {
               background-color: #cf3939;
               cursor: pointer;
               transition: 0.2s;

               &:hover {
                  background-color: #a72e2e;
               }
            }
            &.registered {
               background-color: #28a745;
               cursor: not-allowed;
            }

            &.exregister {
               border: none;
               color: black;
            }
            &.register {
               background-color: #007bff;
               cursor: pointer;
               transition: 0.2s;

               &:hover {
                  background-color: #0056b3;
               }
            }
         }
      }
   }
}

@include respond-to(md) {
   .search-course-container {
      display: flex;
      flex-direction: column;
      .filter {
         margin: 0;
         .filter-container {
         }
      }
   }
}
